# 인덱스 의미와 장단점

db에 대량의 데이터가 저장되어 있는 경우, 테이블에서 특정 데이터를 검색하려고 하면 시간이 오래 걸릴 수 있다. 이 경우에 적절한 컬럼에 인덱스를 생성하면 검색이 빨라질 수 있다.

## 인덱스란?

- 인덱스는 테이블의 정보를 검색했을 때 검색의 대상으로 자주 사용하는 컬럼의 값만 꺼내 쉽게 찾을 수 있도록 해 놓은 것이다.

다음과 같은 4개의 컬럼이 있는 테이블이 있다고 가정하자.

```
id	name	address	old
1	devkuma	Seoul	23
2	kimkc	Busan	19
3	araikuma	Seoul	38
4	mykuma	Daejeon	18
5	yourkuma	Seoul	17
6	happykuma	Seoul	24
```

name 컬럼의 값을 검색할 때, 테이블에 저장되어 있는 데이터는 정렬되어 있는것이 아니므로 원하는 데이터가 있는지 차례대로 검색하게 된다. 데이터가 이정도 양이면 문제가 없지만, 수백만의 데이터가 저장되어 있는 경우 위에서부터 찾아가는 것은 매우 비효율적이다.

이 때, 인덱스를 생성하면 검색 속도를 향상시킬 수 있다. 예를들어 name 컬럼의 값을 대상으로 한 인덱스를 만들면 다음과 같다.

```
3	araikuma
1	devkuma
2	kimkc
6	happykuma
4	mykuma
5	yourkuma
```

## 장점

이 인덱스는 id, name 컬럼의 값만 유지하고 name 컬럼의 값을 오름차순으로 정렬하여 데이터를 저장하고 있다. name 컬럼의 값을 검색할 때 원본의 테이블을 검색하는 것보다 데이터 양이 적고, 또 정렬도 이루어 지고 있기 때문에 빠르게 검색할 수 있다.

## 단점

테이블과 별도로 데이터를 독자적으로 보유하고 있기 때문에 테이블에 데이터를 추가하면 인덱스에도 데이터가 추가된다. 또한 데이터를 추가할 때마다 정렬도 다시 이루어진다. 결과적으로 데이터를 추가할 때 처리 속도가 느리다.

저장되어 있는 데이터가 적은 테이블 혹은 저장되는 데이터의 종류가 적은 컬럼, 데이터의 검색이 많지 않은 컬럼에서도 효과는 크지 않다.

#### 출처

- https://www.devkuma.com/docs/sqlite/index-intro/
- https://runcoding.tistory.com/33
